<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">

<!--
A form for selecting a firebase authentication provider and displaying input elements that are relevant for that provider

Usage:

    <material-login-form></material-login-form>

@demo demo/material-login-form.html
-->
<dom-module id="material-login-form">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <section id="oauth-providers">

      <ul>
        <li><paper-button on-tap="loginWithGithub">GitHub</paper-button></li>
        <li><paper-button on-tap="loginWithGoogle">Google</paper-button></li>
        <li><paper-button on-tap="loginWithFacebook">Facebook</paper-button></li>
        <li><paper-button on-tap="loginWithTwitter">Twitter</paper-button></li>
      </ul>
    </section>

    <section id="password-provider">
      <paper-button on-tap="loginWithPassword"></paper-button>
    </section>
  </template>
  <script>
    Polymer({
      is: 'material-login-form',

      properties: {
        email: {
          type: String,
          notify: true
        },
        password: {
          type: String,
          notify: true
        }
      },

      /** Fire the `login` event with provider `github` */
      loginWithGithub: function () {
        return this.login('github')
      },
      /** Fire the `login` event with provider `google` */
      loginWithGoogle: function () {
        return this.login('google')
      },
      /** Fire the `login` event with provider `facebook` */
      loginWithFacebook: function () {
        return this.login('facebook')
      },
      /** Fire the `login` event with provider `twitter` */
      loginWithTwitter: function () {
        return this.login('twitter')
      },

      /** Fire the `login` event with provider `password` and the email and password in the options */
      loginWithPassword: function () {
        return this.login('password', {
          email: this.email,
          password: this.password
        })
      },

      login: function (provider, options) {
        return this.fire('login', {
          provider: provider,
          options: options
        }, {
          bubbles: false
        })
      }
    });
  </script>
</dom-module>
